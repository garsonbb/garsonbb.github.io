<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>STM32 on Garson's Blog</title><link>https://garnote.top/tags/stm32/</link><description>Recent content in STM32 on Garson's Blog</description><generator>Hugo</generator><language>zh-hans</language><copyright>Garson</copyright><lastBuildDate>Wed, 26 May 2021 00:16:00 +0000</lastBuildDate><atom:link href="https://garnote.top/tags/stm32/index.xml" rel="self" type="application/rss+xml"/><item><title>è§£å†³å¤šç§åŸå› å¯¼è‡´çš„STM32èŠ¯ç‰‡è¢«é”å®š</title><link>https://garnote.top/post/stm32_locked/</link><pubDate>Wed, 26 May 2021 00:16:00 +0000</pubDate><guid>https://garnote.top/post/stm32_locked/</guid><description>stm32cubeMXä¸­Debugæ–¹å¼è®¾ç½®é”™è¯¯å¯¼è‡´é”å®šèŠ¯ç‰‡ æ˜¨å¤©ç”¨clionå’Œstm32cubeMXè°ƒè¯•ã€‚åˆ›å»ºå¥½Projectä¹‹åï¼Œå¿˜è®°åœ¨cubeMXï¼ŒSYSé€‰é¡¹å¡ä¸­é€‰æ‹©DEBUGä¸ºSerial Wireã€‚ç„¶åç›´æ¥åœ¨clionä¸­ä¸‹è½½ç¨‹åºã€‚ç„¶åä¸‹è½½å¤±è´¥ï¼ŒèŠ¯ç‰‡é”äº†ã€‚æˆ‘çš„daplinkå’Œjlinkéƒ½è®¤ä¸å‡ºæ¥äº†ã€‚
è´­ä¹°åˆ°äºŒæ‰‹æ‹†æœºç‰‡ è¿™æ®µæ—¶é—´ï¼ŒèŠ¯ç‰‡ä»·æ ¼æ¶¨ä»·ã€‚ä¹°äº†å‡ ä¸ªäºŒæ‰‹æ‹†æœºç‰‡ï¼Œéƒ½æ˜¯è®¾ç½®äº†åªè¯»ï¼Œæˆ–è€…æ˜¯è¿˜æœ‰ç¨‹åºåœ¨èŠ¯ç‰‡é‡Œè·‘ã€‚æˆ‘ç›´æ¥ç”¨daplinkä¸‹è½½ç¨‹åºï¼Œåªæ˜¯æç¤ºä¸‹è½½å¤±è´¥ã€‚æˆ‘ä¸å¤ªæ‡‚DAPLinkçš„ä½¿ç”¨ã€‚æ’ä¸ŠJLinkåï¼Œåœ¨Keilä¸­çš„Debugé€‰é¡¹å¡ä¸­è¯†åˆ«åˆ°èŠ¯ç‰‡ä¹‹åï¼Œå¼¹å‡ºï¼š å‡ºç°è¿™ä¸ªï¼Œåº”è¯¥æœ‰è¿™å‡ ç§å¯èƒ½
èŠ¯ç‰‡åäº† èŠ¯ç‰‡è¯»ä¿æŠ¤ èŠ¯ç‰‡ç„Šæ¥æœ‰é—®é¢˜ï¼ŒNRSTå¤ä½æŒ‰é’®é‚£é‡Œæœ‰é—®é¢˜ è§£å†³æ–¹æ³• ä¸‹è½½å®‰è£…JLinkçš„å·¥å…·åŒ…https://www.segger.com/downloads/jlink/#J-LinkSoftwareAndDocumentationPack Debugæ–¹å¼è®¾ç½®é”™è¯¯å¯¼è‡´é”å®šèŠ¯ç‰‡ æ‰“å¼€J-Flash Liteé€‰æ‹©å¯¹åº”èŠ¯ç‰‡ï¼Œæˆ‘çš„æ˜¯STM32F103C8ã€‚ä¹‹åï¼Œç‚¹Erase Chipã€‚æ˜¯ä¸è¡Œçš„ï¼Œä¼¼ä¹ä¸èƒ½ResetèŠ¯ç‰‡ã€‚ æ‰€ä»¥ä¹‹åæ‰‹åŠ¨ï¼Œç‚¹äº†Erase Chipï¼Œå¿«é€Ÿå¤šæ¬¡æŒ‰PCBä¸Šçš„ResetæŒ‰é’®ï¼Œæç¤ºReset ğŸ†—é©¬ä¸Šåœä¸‹ï¼Œè¿™æ ·å°±å¯ä»¥æ¸…ç©ºèŠ¯ç‰‡ã€‚èŠ¯ç‰‡ä¹Ÿå¯ä»¥è¢«è¯†åˆ«äº†ã€‚
è´­ä¹°åˆ°äºŒæ‰‹æ‹†æœºç‰‡ æ‰“å¼€J-Flash V6.98aï¼ŒCreate new project é€‰æ‹©ä½ å¯¹åº”çš„èŠ¯ç‰‡ è¿æ¥MCU æ“¦é™¤èŠ¯ç‰‡ å…ˆè§£é”èŠ¯ç‰‡ï¼Œå†æ“¦é™¤ã€‚ ä¸€èˆ¬åˆ°è¿™å°±ä¿®å¥½äº†ï¼Œä¸ç„¶å¯èƒ½èŠ¯ç‰‡åäº†ï¼ˆç”µè·¯æ²¡ç„Šæ¥é”™çš„è¯ï¼‰ å…¶ä»–æƒ…å†µ æ‰“å¼€STM32 Unlock çœ‹åˆ°å‘½ä»¤è¡Œçª—å£ï¼Œè¾“å…¥ä½ ä½¿ç”¨çš„èŠ¯ç‰‡ç³»åˆ—å¯¹åº”çš„æ•°å­—ã€‚</description></item><item><title>ä½¿ç”¨CLionå¼€å‘-STM32F4å¼€å¯FPUå¹¶è°ƒç”¨DSPåº“</title><link>https://garnote.top/post/94/</link><pubDate>Wed, 06 Jan 2021 12:47:00 +0000</pubDate><guid>https://garnote.top/post/94/</guid><description>ä¸‹è½½DSPåº“ å¯ä»¥åœ¨STå®˜ç½‘ä¸‹è½½ å¯ä»¥åœ¨Armè¿™ä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„åº“https://github.com/ARM-software/CMSIS_5/releases ä¸‹è½½.packï¼Œç”¨å‹ç¼©è½¯ä»¶æ‰“å¼€æŸ¥çœ‹ è¿›å…¥CMSIS\DSP\Lib\GCC\æå–libarm_cortexM4lf_math.a è¿›å…¥CMSIS\DSP\Include\æå–arm_math.h åœ¨CMakeList.txtä¸­æ·»åŠ é“¾æ¥ 1include_directories(åŒ…å«arm_math.hçš„æ–‡ä»¶å¤¹è·¯å¾„) 2target_link_libraries(${PROJECT_NAME}.elf ${CMAKE_SOURCE_DIR}/...ä½ è‡ªå·±çš„è·¯å¾„/libarm_cortexM4lf_math.a) å¼€å¯FPU åªéœ€è¦åœ¨CMakeListsä¸­#Uncomment for hardware floating pointä¸‹çš„é…ç½®å»é™¤æ³¨é‡Šå°±å¯ä»¥äº†ï¼Œä¸éœ€è¦é¢å¤–çš„defineæ ‡ç­¾ã€‚ ä¹‹æ‰€ä»¥ä¸ç”¨åƒKeilä¸€æ ·é¢å¤–çš„defineï¼Œå› ä¸ºåœ¨stm32f407xx.h(2017)ä¸­ç¬¬52è¡Œé»˜è®¤æ˜¯å·²ç»æ˜¯ #define __FPU_PRESENT 1Uï¼Œ è€Œä¸”åœ¨core_cm4.h(V5.0.8)ä¸­ç¬¬100è¡Œï¼Œåœ¨__GNUC__é»˜è®¤æ˜¯ #define __FPU_USED 1U</description></item><item><title>Ubuntuä¸‹ä½¿ç”¨Clion+STM32CubeMx+OpenOCDè¿›è¡Œå¼€å‘</title><link>https://garnote.top/post/stm32_clion/</link><pubDate>Fri, 13 Dec 2019 18:15:00 +0000</pubDate><guid>https://garnote.top/post/stm32_clion/</guid><description>Clion ä¸‹è½½åœ°å€ åˆ©ç”¨edué‚®ç®±å¯ä»¥ç”³è¯·å…è´¹æˆæƒï¼Œä¸€å¹´ä¸€ç”³ã€‚ä¼ é€é—¨ è§£å‹ä¹‹ååœ¨æºç ç›®å½•æ‰§è¡Œsudo ./clion-2019.3/bin/clion.shå®‰è£…ã€‚ STM32CubeMx å®‰è£…jre.sudo apt install default-jre. ä¸‹è½½STM32CubeMx. è§£å‹ä¹‹åè¿›å…¥ç›®å½•æ‰§è¡Œsudo ./SetupSTM32CubeMX-5.4.0.linuxå®‰è£…(è¦å…ˆç»™è¿™ä¸ªæ–‡ä»¶åŠ ä¸Šå¯æ‰§è¡Œæƒé™)ã€‚ arm-none-eabi-gcc ä¸‹è½½arm-none-eabi-gcc è§£å‹åˆ°/usr/lib/gcc. vi /etc/profile åœ¨æœ€åä¸€è¡ŒåŠ å…¥export PATH=$PATH:/usr/lib/gcc/gcc-arm-none-eabi-9-2019-q4-major/binæ³¨æ„ä¿®æ”¹ç›®å½•ä½ç½®. é‡å¯ç”Ÿæ•ˆPATH OpenOCD OpenOCDä»£ç æ‰˜ç®¡åœ¨è¿™é‡Œï¼Œé€‰æ‹©æœ€æ–°ç‰ˆæœ¬ä¸‹è½½https://sourceforge.net/projects/openocd/files/openocd/ è§£å‹ï¼Œè¿›å…¥æºç ç›®å½• ./configure -helpå¯æŸ¥çœ‹å¸®åŠ© ./bootstrapç”Ÿæˆé…ç½®æ–‡ä»¶ ./configure --enable jlinkæ·»åŠ jlinkæ”¯æŒï¼Œå¯èƒ½ä¼šæç¤ºç¼ºå°‘ä»€ä¹ˆåº“ï¼ŒæŒ‰æç¤ºå®‰è£… sudo make &amp;amp;&amp;amp; make installå®‰è£…ã€‚é‡å¯ç”Ÿæ•ˆPATH åœ¨æºç ç›®å½•ä¸‹sudo cp contrib/60-openocd.rules /etc/udev/rule.d/ ä¸è¿›è¡Œè¿™éƒ¨æ“ä½œçš„è¯ï¼Œåœ¨érootç”¨æˆ·ä¸‹è¿è¡ŒClionæ—¶ï¼ŒClionä¼šæ— æƒè®¿é—®è°ƒè¯•å™¨ã€‚ æœ€å è¿è¡ŒClionï¼Œåœ¨Pluginsä¸­æœç´¢stm32å¹¶å®‰è£…ç¬¬ä¸€ä¸ªæ’ä»¶ï¼Œé‡å¯Clionã€‚New Project é€‰STM32CubeMXã€‚åœ¨STM32CubeMXçš„Project Settingsä¸­ï¼Œå°†Toolchain/IDEé€‰æˆSW4STM32ã€‚æœ€åGenerate Code. Enjoy it.</description></item><item><title>stm32å®˜æ–¹èµ„æºçš„ä¸€äº›è®°å½•</title><link>https://garnote.top/post/stm32_source/</link><pubDate>Fri, 28 Jun 2019 23:40:00 +0000</pubDate><guid>https://garnote.top/post/stm32_source/</guid><description> stm32èŠ¯ç‰‡å°è£…-&amp;gt;ç‚¹æˆ‘ç‚¹æˆ‘ éœ€è¦ç”¨Ultra Librarianè½¬ä¸ºå¸¸è§çš„Cendenceã€Altiumã€Padsæ ¼å¼ã€‚ stm32èŠ¯ç‰‡çš„å›ºä»¶åº“-&amp;gt;ä¼ é€é—¨ keil .pack ä¼ é€é—¨</description></item></channel></rss>